r("request error: invalid url",i.NetworkConnectionFailure);return}var e=t.url,h=typeof t.display=="string"?t.display.toLowerCase():"ignore",s=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],f=null;for(o=0;o<s.length;o++){try{f=s[o]()}catch(c){continue}break}if(f===null){r("request error: could not create request",i.NetworkConnectionFailure);return}h!=="ignore"&&(f.onreadystatechange=function(){if(this.readyState!==4)return;(this.status!==200||this.status!==304)&&r("request error: error request to url: "+e+" code="+f.status,i.NetworkConnectionFailure);var t={url:escape(e),response:escape(this.responseText)};u("response",{url:e,response:t},[[n.id,n.id+"_expanded"]])});if(f.readyState===4)return;f.open("GET",e,!0),f.setRequestHeader("cache-control","no-cache"),f.timeout=1e4;try{f.send(null)}catch(c){r("request error: "+c.message,i.NetworkConnectionFailure)}}function bi(n){if(n===null||typeof n=="undefined"){r("open error: no data",i.NetworkConnectionFailure);return}if(n.url===null||typeof n.url!="string"){r("open error: invalid url",i.NetworkConnectionFailure);return}try{window.open(n.url)}catch(t){r("open error: "+t.message,i.NetworkConnectionFailure)}}function rt(n,t,i){if(typeof t!="number"||typeof i!="number")return;n.width=t,n.height=i,n.style.width=t+"px",n.style.height=i+"px",k.w=t,k.h=i,u("resize",{wi